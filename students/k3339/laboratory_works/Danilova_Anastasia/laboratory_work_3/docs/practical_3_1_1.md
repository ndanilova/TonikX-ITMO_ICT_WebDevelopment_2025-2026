## Практическое задание №1

### Задание:

Напишите запрос на создание 6-7 новых автовладельцев и 5-6 автомобилей, каждому автовладельцу назначьте удостоверение и
от 1 до 3 автомобилей. Задание можете выполнить либо в интерактивном режиме интерпретатора, либо в отдельном
python-файле. Результатом должны стать запросы и отображение созданных объектов.
Если вы добавляете автомобили владельцу через метод .add(), не забудьте заполнить также ассоциативную сущность
“владение”

### Выполнение

Был написан скрипт для консоли django с созданием всех перечисленных объектов и с созданием связей между ними

**Пример реализации создания объектов в скрипте:** 
```python
owners_data = [
    {"last_name": "Иванов", "first_name": "Иван", "date_of_birth": date(1990, 5, 15)},
    {"last_name": "Петров", "first_name": "Петр", "date_of_birth": date(1985, 8, 22)},
    {"last_name": "Сидорова", "first_name": "Мария", "date_of_birth": date(1992, 3, 10)},
    {"last_name": "Кузнецов", "first_name": "Алексей", "date_of_birth": date(1988, 11, 5)},
    {"last_name": "Смирнов", "first_name": "Дмитрий", "date_of_birth": date(1995, 7, 30)},
    {"last_name": "Васильева", "first_name": "Ольга", "date_of_birth": date(1991, 12, 18)},
    {"last_name": "Николаев", "first_name": "Сергей", "date_of_birth": date(1987, 4, 25)},
]

owners = []
for data in owners_data:
    owner = CarOwner.objects.create(**data)
    owners.append(owner)
    print(f"Создан владелец: {owner.last_name} {owner.first_name}")
```

**Пример создания связей в скрипте:**
```python
for owner in owners:
    num_cars = random.randint(1, 3)

    owner_cars = random.sample(cars, min(num_cars, len(cars)))

    for i, car in enumerate(owner_cars):
        date_started = date(2018 + i, (i % 12) + 1, 15)

        if random.choice([True, False]):
            date_ended = date_started + timedelta(days=random.randint(365, 1825))
        else:
            date_ended = None

        Ownership.objects.create(
            car_owner=owner,
            car=car,
            date_started=date_started,
            date_ended=date_ended
        )

        status = f"с {date_started} по {date_ended}" if date_ended else f"с {date_started} (по настоящее время)"
        print(f"{owner.last_name} владеет {car.brand} {car.model} - {status}")
```


**Вывод скрипта соответственно:**
```text
Создан владелец: Иванов Иван
Создан владелец: Петров Петр
Создан владелец: Сидорова Мария
Создан владелец: Кузнецов Алексей
Создан владелец: Смирнов Дмитрий
Создан владелец: Васильева Ольга
Создан владелец: Николаев Сергей

==================================================

Создан автомобиль: Toyota Camry (А123ВС77)
Создан автомобиль: BMW X5 (В456ОР78)
Создан автомобиль: Mercedes E-Class (С789ТУ79)
Создан автомобиль: Honda CR-V (Е012ХА77)
Создан автомобиль: Audi A6 (М345НС78)
Создан автомобиль: Kia Rio (Р678УК79)

==================================================

Создано удостоверение для Иванов: AA1000 (категория D)
Создано удостоверение для Петров: AA1001 (категория C)
Создано удостоверение для Сидорова: AA1002 (категория C)
Создано удостоверение для Кузнецов: AA1003 (категория C)
Создано удостоверение для Смирнов: AA1004 (категория A)
Создано удостоверение для Васильева: AA1005 (категория C)
Создано удостоверение для Николаев: AA1006 (категория B)

==================================================

Иванов владеет Toyota Camry - с 2018-01-15 (по настоящее время)
Иванов владеет Kia Rio - с 2019-02-15 (по настоящее время)
Иванов владеет Audi A6 - с 2020-03-15 (по настоящее время)
Петров владеет BMW X5 - с 2018-01-15 по 2021-10-07
Сидорова владеет Kia Rio - с 2018-01-15 по 2019-05-03
Кузнецов владеет BMW X5 - с 2018-01-15 по 2022-01-02
Смирнов владеет Mercedes E-Class - с 2018-01-15 (по настоящее время)
Смирнов владеет Honda CR-V - с 2019-02-15 (по настоящее время)
Смирнов владеет Kia Rio - с 2020-03-15 (по настоящее время)
Васильева владеет BMW X5 - с 2018-01-15 (по настоящее время)
Васильева владеет Toyota Camry - с 2019-02-15 по 2020-11-09
Николаев владеет Mercedes E-Class - с 2018-01-15 (по настоящее время)

==================================================


1. Автовладельцы:
  1: Petrov Ivan, рожд. 1985-04-12
  2: Sidorova Elena, рожд. 1990-09-25
  3: Иванов Иван, рожд. 1990-05-15
  4: Петров Петр, рожд. 1985-08-22
  5: Сидорова Мария, рожд. 1992-03-10
  6: Кузнецов Алексей, рожд. 1988-11-05
  7: Смирнов Дмитрий, рожд. 1995-07-30
  8: Васильева Ольга, рожд. 1991-12-18
  9: Николаев Сергей, рожд. 1987-04-25

2. Автомобили:
  1: Toyota Camry (A111AA), цвет: Black
  2: Hyundai Solaris (B222BB), цвет: White
  3: Ford Focus (C333CC), цвет: Blue
  4: Kia Rio (D444DD), цвет: Red
  5: Toyota Camry (А123ВС77), цвет: Черный
  6: BMW X5 (В456ОР78), цвет: Белый
  7: Mercedes E-Class (С789ТУ79), цвет: Серый
  8: Honda CR-V (Е012ХА77), цвет: Синий
  9: Audi A6 (М345НС78), цвет: Красный
  10: Kia Rio (Р678УК79), цвет: Зеленый

3. Водительские удостоверения:
  1234567890: Petrov, кат. B, выдано 2005-05-15
  0987654321: Sidorova, кат. B, выдано 2010-08-10
  AA1000: Иванов, кат. D, выдано 2015-01-01
  AA1001: Петров, кат. C, выдано 2016-02-01
  AA1002: Сидорова, кат. C, выдано 2017-03-01
  AA1003: Кузнецов, кат. C, выдано 2018-04-01
  AA1004: Смирнов, кат. A, выдано 2019-05-01
  AA1005: Васильева, кат. C, выдано 2020-06-01
  AA1006: Николаев, кат. B, выдано 2021-07-01

4. Владение автомобилями:
  Petrov -> Toyota Camry: с 2010-01-01 по 2015-12-31
  Petrov -> Hyundai Solaris: с 2016-01-01 по 2020-12-31
  Petrov -> Ford Focus: с 2021-01-01 по настоящее время
  Sidorova -> Kia Rio: с 2012-06-01 по 2017-05-31
  Sidorova -> Hyundai Solaris: с 2017-06-01 по 2021-12-31
  Sidorova -> Toyota Camry: с 2022-01-01 по настоящее время
  Иванов -> Toyota Camry: с 2018-01-15 по настоящее время
  Иванов -> Kia Rio: с 2019-02-15 по настоящее время
  Иванов -> Audi A6: с 2020-03-15 по настоящее время
  Петров -> BMW X5: с 2018-01-15 по 2021-10-07
  Сидорова -> Kia Rio: с 2018-01-15 по 2019-05-03
  Кузнецов -> BMW X5: с 2018-01-15 по 2022-01-02
  Смирнов -> Mercedes E-Class: с 2018-01-15 по настоящее время
  Смирнов -> Honda CR-V: с 2019-02-15 по настоящее время
  Смирнов -> Kia Rio: с 2020-03-15 по настоящее время
  Васильева -> BMW X5: с 2018-01-15 по настоящее время
  Васильева -> Toyota Camry: с 2019-02-15 по 2020-11-09
  Николаев -> Mercedes E-Class: с 2018-01-15 по настоящее время

```