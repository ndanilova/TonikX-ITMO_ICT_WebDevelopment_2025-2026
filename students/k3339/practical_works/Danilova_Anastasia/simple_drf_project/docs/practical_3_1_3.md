## Практическое задание №3

### Задание:

Необходимо реализовать следующие запросы c применением описанных методов:
Вывод даты выдачи самого старшего водительского удостоверения
Укажите самую позднюю дату владения машиной, имеющую какую-то из существующих моделей в вашей базе
Выведите количество машин для каждого водителя
Подсчитайте количество машин каждой марки
Отсортируйте всех автовладельцев по дате выдачи удостоверения (Примечание: чтобы не выводить несколько раз одни и те же записи воспользуйтесь методом .distinct()

### Выполнение

Был написан скрипт, выполняющий пошагово все действия и выводящий итоговые результаты списком в красивом формате в консоль.

**Пример строк из скрипта:**

```python
oldest_license = DriversLicense.objects.aggregate(
    oldest_date=Min('date_of_issue')
)

if oldest_license['oldest_date']:
    license_obj = DriversLicense.objects.filter(
        date_of_issue=oldest_license['oldest_date']
    ).first()

    print(f"Самое старое удостоверение выдано: {oldest_license['oldest_date']}")
    if license_obj:
        print(f"Подробности:")
        print(f"Владелец: {license_obj.car_owner}")
        print(f"Номер: {license_obj.license_number}")
        print(f"Тип: {license_obj.license_type}")
else:
    print("Нет данных об удостоверениях")
```


**Результат работы скрипта:**

```text
1. ДАТА ВЫДАЧИ САМОГО СТАРШЕГО ВОДИТЕЛЬСКОГО УДОСТОВЕРЕНИЯ:
----------------------------------------
Самое старое удостоверение выдано: 2005-05-15
Подробности:
Владелец: Petrov Ivan
Номер: 1234567890
Тип: B


2. САМАЯ ПОЗДНЯЯ ДАТА ВЛАДЕНИЯ МАШИНОЙ (ДЛЯ СУЩЕСТВУЮЩИХ МОДЕЛЕЙ):
----------------------------------------
Самая поздняя дата владения: 2022-01-01
Модель: Camry
Количество записей с этой датой: 1
     1. Sidorova Elena -> Toyota Camry (A111AA) (дата начала: 2022-01-01)


3. КОЛИЧЕСТВО МАШИН ДЛЯ КАЖДОГО ВОДИТЕЛЯ:
----------------------------------------
Всего владельцев: 9
  ========================================
Ivan Petrov
Количество машин: 3
Список: Toyota Camry, Hyundai Solaris, Ford Focus
     ------------------------------
Elena Sidorova
Количество машин: 3
Список: Kia Rio, Hyundai Solaris, Toyota Camry
     ------------------------------
Иван Иванов
Количество машин: 3
Список: Toyota Camry, Kia Rio, Audi A6
     ------------------------------
Дмитрий Смирнов
Количество машин: 3
Список: Mercedes E-Class, Honda CR-V, Kia Rio
     ------------------------------
Ольга Васильева
Количество машин: 2
Список: BMW X5, Toyota Camry
     ------------------------------
Петр Петров
Количество машин: 1
Список: BMW X5
     ------------------------------
Мария Сидорова
Количество машин: 1
Список: Kia Rio
     ------------------------------
Алексей Кузнецов
Количество машин: 1
Список: BMW X5
     ------------------------------
Сергей Николаев
Количество машин: 1
Список: Mercedes E-Class
     ------------------------------


4. КОЛИЧЕСТВО МАШИН КАЖДОЙ МАРКИ:
----------------------------------------
Всего марок: 8
  ========================================
Toyota: 2 машин(ы)
Camry: 2
Kia: 2 машин(ы)
Rio: 2
Mercedes: 1 машин(ы)
E-Class: 1
Hyundai: 1 машин(ы)
Solaris: 1
Honda: 1 машин(ы)
CR-V: 1
Ford: 1 машин(ы)
Focus: 1
BMW: 1 машин(ы)
X5: 1
Audi: 1 машин(ы)
A6: 1
  ========================================
Всего автомобилей в базе: 10


5. АВТОВЛАДЕЛЬЦЫ, ОТСОРТИРОВАННЫЕ ПО ДАТЕ ВЫДАЧИ УДОСТОВЕРЕНИЯ:
----------------------------------------
Владельцы с удостоверениями: 9
  ========================================
  1. Ivan Petrov
Дата рождения: 1985-04-12
Удостоверение 1: №1234567890, тип B, выдано 2005-05-15 САМОЕ РАННЕЕ
     ------------------------------
  2. Elena Sidorova
Дата рождения: 1990-09-25
Удостоверение 1: №0987654321, тип B, выдано 2010-08-10 САМОЕ РАННЕЕ
     ------------------------------
  3. Иван Иванов
Дата рождения: 1990-05-15
Удостоверение 1: №AA1000, тип D, выдано 2015-01-01 САМОЕ РАННЕЕ
     ------------------------------
  4. Петр Петров
Дата рождения: 1985-08-22
Удостоверение 1: №AA1001, тип C, выдано 2016-02-01 САМОЕ РАННЕЕ
     ------------------------------
  5. Мария Сидорова
Дата рождения: 1992-03-10
Удостоверение 1: №AA1002, тип C, выдано 2017-03-01 САМОЕ РАННЕЕ
     ------------------------------
  6. Алексей Кузнецов
Дата рождения: 1988-11-05
Удостоверение 1: №AA1003, тип C, выдано 2018-04-01 САМОЕ РАННЕЕ
     ------------------------------
  7. Дмитрий Смирнов
Дата рождения: 1995-07-30
Удостоверение 1: №AA1004, тип A, выдано 2019-05-01 САМОЕ РАННЕЕ
     ------------------------------
  8. Ольга Васильева
Дата рождения: 1991-12-18
Удостоверение 1: №AA1005, тип C, выдано 2020-06-01 САМОЕ РАННЕЕ
     ------------------------------
  9. Сергей Николаев
Дата рождения: 1987-04-25
Удостоверение 1: №AA1006, тип B, выдано 2021-07-01 САМОЕ РАННЕЕ

```